---
layout: post
title:  '设计模式 - 创建型模式'
date:  2019-10-16
tags: 设计模式
categories: [编程语言,设计模式]
---

###  创建型模式

- 单例模式
- 抽象工厂模式
- 原型模式
- 创建者模式
- 工厂模式



### 单例模式

#### 单例模式介绍

> 所谓类的单例设计模式，就是**采取一定的方法保证在整个的软件系统中，对某个类只能存在一个对象实例**，并且该类只提供一个取得其对象实例的方法(静态方法)。
>
> 比如 Hibernate 的 SessionFactory，它充当数据存储源的代理，并负责创建 Session 对象。SessionFactory 并不是
> 轻量级的，一般情况下，一个项目通常只需要一个 SessionFactory 就够，这是就会使用到单例模式。

##### 单例模式中的实现

- 构造器私有化 (防止 new )
- 类的内部创建对象
- 向外暴露一个静态的公共方法。getInstance

代码实现如下：

[单例模式的7种实现](https://github.com/zcyoop/design_mode/tree/master/src/singleton)

#### 单例模式注意事项和细节说明

- 单例模式保证了 系统内存中该类只存在一个对象，节省了系统资源，对于一些需要频繁创建销毁的对象，使用单例模式可以提高系统性能
- 当想实例化一个单例类的时候，必须要记住使用相应的获取对象的方法，而不是使用 new
- 单例模式**使用的场景**：需要**频繁的进行创建和销毁的对象**、创建对象时耗时过多或耗费资源过多(即：重量级对象)，但又经常用到的对象、 工具类对象、频繁访问数据库或文件的对象(比如 数据源、session 工厂等)



### 工厂模式

[工厂模式讲解](https://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/creational.html)

[对应代码](https://github.com/zcyoop/design_mode/tree/master/src/factoryMode)



### 原型模式

#### 定义

> **原型模式**是[创建型模式](https://zh.wikipedia.org/wiki/創建型模式)的一种，其特点在于通过“复制”一个已经存在的[实例](https://zh.wikipedia.org/wiki/实例)来返回新的实例,而不是新建实例。被复制的实例就是我们所称的“原型”，这个原型是可定制的。
>
> 原型模式多用于创建复杂的或者耗时的实例，因为这种情况下，复制一个已经存在的实例使程序运行更高效；或者创建值相等，只是命名不一样的同类数据。

#### 解决问题

在传统模式下，复制一个对象的缺点：

- 优点是比较好理解，简单易操作。
-  在创建新的对象时，总是需要重新获取原始对象的属性，如果创建的对象比较复杂时，效率较低
-  总是需要重新初始化对象，而不是动态地获得对象运行时的状态, 不够灵活



Java 中 Object 类是所有类的根类，Object 类提供了一个 clone()方法，该方法可以将一个 Java 对象复制
一份，但是需要实现 clone的Java类必须要实现一个接口Cloneable，该接口表示该类能够复制且具有复制的能力 =>**原型模式**